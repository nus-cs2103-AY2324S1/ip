package duke;

import duke.task.TaskList;

/**
 * Represents Duke, a Personal Assistant Chatbot that helps a person to keep track of
 * various things. The name Duke was chosen as a placeholder name, in honor of Duke,
 * the Java Mascot. The current name of the Chatbot is Boo.
 */
public class Duke {
    private Storage storage;
    private TaskList taskList;
    private Ui ui;

    /**
     * Constructor for a Duke object.
     * Initialises the ui, storage, and taskList.
     */
    public Duke() {
        ui = new Ui();
        storage = new Storage("./data/duke.txt");
        taskList = new TaskList(storage.retrieveData());
    }

    /**
     * Obtains a response based on the user's input command.
     *
     * @param command The user's input command.
     * @return A response generated by processing the user's command.
     * @throws Exception If an error occurs during processing.
     */
    public String getResponse(String command) {
        try {
            return new Parser().processCommand(command, taskList, storage);
        } catch (Exception e) {
            return e.getMessage();
        }
    }

}

